(this["webpackJsonpreact-saas-template"]=this["webpackJsonpreact-saas-template"]||[]).push([[4],{409:function(e,t,n){},589:function(e,t,n){"use strict";n.r(t);var a=n(293),r=n(294),i=n(300),o=n(299),c=n(10),s=n(1),l=n.n(s),u=n(407),m=n.n(u),p=n(82),h=n(30),d=n(91),f=n.n(d),g=n(408),C=n(363),y=n(328),E=n(571),b=n(572),v=n(594),O=n(574),k=n(592),S=n(593),L=n(598),j=n(588),I=n(364),x=n.n(I),_=n(86),N=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.icon;return l.a.createElement(L.a,{style:{display:"inline-block"},fontSize:32},l.a.createElement(e,{style:{display:"flex",color:this.props.color},fontSize:"inherit"}))}}]),n}(s.Component),w=Object(p.a)((function(e){return{}}),{withTheme:!0})(N),A=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).onAgeChange=r.onAgeChange.bind(Object(y.a)(r)),r}return Object(r.a)(n,[{key:"onAgeChange",value:function(e){var t=Number(e.target.value);this.props.onPatientAgeChange(t)}},{key:"onGenderChange",value:function(e){this.props.onPatientGenderChange(e.target.value)}},{key:"isIDValid",value:function(){return x()(this.props.patient.id)}},{key:"getAgeContributionFactor",value:function(){return this.props.recommendation.contributing_factors&&"+".concat(this.props.recommendation.contributing_factors.age.toPrecision(2))||" "}},{key:"getColor",value:function(){return this.props.patient.information.age?this.props.color:_.a.palette.common.grey}},{key:"render",value:function(){var e=this.props.classes,t=this.props.icon;return l.a.createElement(E.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(E.a,{item:!0,md:2},l.a.createElement(b.a,null,l.a.createElement(w,{icon:t,color:this.getColor()}),l.a.createElement(L.a,{m:1,color:"text.primary",fontWeight:"bold"},"Patient"))),l.a.createElement(E.a,{item:!0,md:10},l.a.createElement(E.a,{container:!0,alignItems:"center"},l.a.createElement(j.a,{type:"number",className:e.idInput,error:!this.isIDValid(),label:"ID",value:this.props.patient.id,variant:"outlined",onChange:this.props.onIDChange,color:"secondary",helperText:this.isIDValid()?" ":"Enter a valid ID"}),l.a.createElement(j.a,{type:"number",className:e.ageInput,label:"Age",variant:"outlined",value:Boolean(this.props.patient.information.age)&&this.props.patient.information.age,onChange:this.onAgeChange,color:"secondary",helperText:this.getAgeContributionFactor()}),l.a.createElement(v.a,{"aria-label":"gender",value:this.props.patient.information.gender,style:{display:"inline"},onChange:this.onGenderChange.bind(this)},l.a.createElement(E.a,{container:!0,style:{display:"inline-flex",width:185}},l.a.createElement(E.a,{item:!0,md:6},l.a.createElement(O.a,{value:"female",control:l.a.createElement(k.a,{size:"small",color:"secondary"}),label:"Female"})),l.a.createElement(E.a,{item:!0,md:6},l.a.createElement(O.a,{value:"male",control:l.a.createElement(k.a,{size:"small",color:"secondary"}),label:"Male"})),l.a.createElement(E.a,{item:!0,md:12},l.a.createElement(O.a,{style:{visibility:"female"===this.props.patient.information.gender?"visible":"hidden"},control:l.a.createElement(S.a,{size:"small",checked:this.props.patient.otherConsiderations.pregnent_healthy,onChange:function(){},name:"checkedB",color:"secondary"}),label:"Pregnant"})))),l.a.createElement(O.a,{control:l.a.createElement(S.a,{size:"small",checked:!0,onChange:function(){},name:"checkedB",color:"secondary"}),label:"COVID-19 Positive"}))))}}]),n}(s.Component),T=Object(p.a)((function(e){return{idInput:{marginRight:e.spacing(2)},ageInput:{marginRight:e.spacing(2),width:100}}}),{withTheme:!0})(A),M=n(351),D=n(581),P=n(582),G=n(575),B=n(415),R=n.n(B),F=n(414),H=n.n(F),V=n(413),z=n.n(V),Z=n(411),W=n.n(Z),K=n(371);function U(e){return l.a.createElement(K.a,e,l.a.createElement("path",{d:"M2,22 L2,20 L5,20 L5,2 L19,2 L19,20 L22,20 L22,22 L2,22 Z M17,4 L7,4 L7,20 L10,20 L10,15 L14,15 L14,20 L17,20 L17,4 Z M11,11 L11,13 L8,13 L8,11 L11,11 Z M16,11 L16,13 L13,13 L13,11 L16,11 Z M11,8 L11,10 L8,10 L8,8 L11,8 Z M16,8 L16,10 L13,10 L13,8 L16,8 Z M11,5 L11,7 L8,7 L8,5 L11,5 Z M16,5 L16,7 L13,7 L13,5 L16,5 Z"}))}function q(e){return l.a.createElement(K.a,e,l.a.createElement("path",{d:"M12,2 C13.1045695,2 14,2.8954305 14,4 C14,4.7398375 13.5982846,5.38584934 13.0010775,5.73181186 L13,8 L18,8 C19.1045695,8 20,8.8954305 20,10 L20.0010775,11.2681881 C20.5982846,11.6141507 21,12.2601625 21,13 C21,13.7398375 20.5982846,14.3858493 20.0010775,14.7318119 L20,16 C20,17.1045695 19.1045695,18 18,18 L14,18 L14,20 L21,20 C21.5522847,20 22,20.4477153 22,21 C22,21.5522847 21.5522847,22 21,22 L3,22 C2.44771525,22 2,21.5522847 2,21 C2,20.4477153 2.44771525,20 3,20 L10,20 L10,18 L6,18 C4.8954305,18 4,17.1045695 4,16 L3.99992752,14.7323937 C3.40216612,14.3865739 3,13.7402524 3,13 C3,12.2597476 3.40216612,11.6134261 3.99992752,11.2676063 L4,10 C4,8.8954305 4.8954305,8 6,8 L11,8 L10.9999275,5.73239368 C10.4427094,5.41002921 10.0554537,4.82654371 10.0054857,4.14926234 L10,4 C10,2.8954305 10.8954305,2 12,2 Z M18,10 L6,10 L6,16 L18,16 L18,10 Z M10,12 L10,14 L8,14 L8,12 L10,12 Z M16,12 L16,14 L14,14 L14,12 L16,12 Z"}))}var J=n(412),$=n.n(J),Q=n(596),X=(n(409),function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.readings&&e.readings.length&&e.readings.map((function(e,t){return e.percent>0?l.a.createElement("div",{className:"value",style:{color:e.color,width:e.percent+"%"},key:t},l.a.createElement("span",null,e.value)):null}),this),n=e.readings&&e.readings.length&&e.readings.map((function(e,t){return e.percent>0?l.a.createElement("div",{className:"graduation",style:{color:e.color,width:e.percent+"%"},key:t},l.a.createElement("span",null,"|")):null}),this),a=e.readings&&e.readings.length&&e.readings.map((function(e,t){return e.percent>0?l.a.createElement("div",{className:"bar",style:{backgroundColor:e.color,width:e.percent+"%"},key:t}):null}),this);return l.a.createElement("div",{className:"multicolor-bar"},l.a.createElement("div",{className:"values"},""===t?"":t),l.a.createElement("div",{className:"scale"},""===n?"":n),l.a.createElement("div",{className:"bars"},""===a?"":a))}}]),n}(s.Component)),Y=Object(p.a)((function(e){return{}}),{withTheme:!0})(X),ee=n(410),te=n.n(ee),ne=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props.classes,t=this.props.icon,n=e.bigBox+" "+(this.props.disable?e.greyBox:e.blueBox);return l.a.createElement("div",{className:n},!this.props.disable&&l.a.createElement(L.a,{color:"white",fontSize:"43px",textAlign:"center",mt:1},l.a.createElement(w,{icon:t,color:"white",style:{display:"inline"}}),this.props.label))}}]),n}(s.Component),ae=Object(p.a)((function(e){return{bigBox:{width:"".concat(2.93*6,"em"),height:"".concat(6,"em"),borderRadius:"70px"},greyBox:{border:"1px solid ".concat(e.palette.common.lightGrey)},blueBox:{background:"linear-gradient(180deg, #125FC6 0%, #2F80ED 124.5%)"}}}),{withTheme:!0})(ne),re=n(595),ie=n(580),oe=n(578),ce=n(579),se=n(577);var le=function(e){return l.a.createElement("div",null,l.a.createElement(re.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(se.a,{id:"form-dialog-title"},"Why did you chose differently from the recommendation?"),l.a.createElement(oe.a,null,l.a.createElement(ce.a,null,"check boxes go here flowed by some text"),l.a.createElement(j.a,{autoFocus:!0,margin:"dense",fullWidth:!0})),l.a.createElement(ie.a,null,l.a.createElement(D.a,{onClick:e.handleClose,color:"primary"},"Continue without sending"),l.a.createElement(D.a,{onClick:e.handleClose,color:"primary"},"Send"))))},ue="home",me="hotel",pe="hospital";function he(e){var t=function(e){return e.toFixed(1).replace(/[.,]00$/,"")},n=[],a=function(a){var r,i=Ve.SCORE_CATEGORIES.find((function(e){return e.text===a})).color;n.push({name:a,value:t(e.riskScores[a]),percent:(r=e.riskScores[a],t(r/20*100)),color:i})};for(var r in e.riskScores)a(r);var i=100-n.map((function(e){return Number(e.percent)})).reduce((function(e,t){return e+t}),0);return i&&n.push({name:"",value:t(i),percent:i,color:"#fff"}),n}function de(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}var fe=R()((function(e){return{section1:{flex:1},section2:{flex:3},section3:{position:"sticky",bottom:0},chips:{paddingTop:e.spacing(2)},divider:{height:1}}}),{withTheme:!0})((function(e){var t=l.a.useState(!1),n=Object(M.a)(t,2),a=n[0],r=n[1],i=l.a.useState(void 0),o=Object(M.a)(i,2),c=o[0],s=o[1];function u(t){s(t),e.recommendation.risk_score&&t!==e.recommendation.recommendation&&r(!0)}function m(e){return c===e?"default":"outlined"}var p=e.classes;return l.a.createElement(E.a,{container:!0,direction:"column",style:{height:"100%"}},l.a.createElement(L.a,{mt:3,flex:1,className:p.section1},l.a.createElement(Y,{readings:he(e)})),l.a.createElement(E.a,{container:!0,direction:"column",alignContent:"center",className:p.section2},l.a.createElement(E.a,{item:!0,container:!0,justify:"center"},l.a.createElement(E.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},l.a.createElement(L.a,{color:e.recommendation.risk_score?_.a.palette.secondary.main:_.a.palette.common.lightGrey},"Recommendation"),function(){switch(e.recommendation.risk_score&&e.recommendation.recommendation){case ue:return l.a.createElement(ae,{icon:W.a,label:de(ue)});case me:return l.a.createElement(ae,{icon:U,label:de(me)});case pe:return l.a.createElement(ae,{icon:$.a,label:de(pe)});default:return l.a.createElement(ae,{disable:!0})}}())),l.a.createElement(L.a,{mt:10},l.a.createElement(E.a,{container:!0,direction:"column",alignContent:"center"},l.a.createElement(E.a,{item:!0,container:!0,justify:"center"},l.a.createElement(L.a,{mr:1},l.a.createElement(q,null)),l.a.createElement(G.a,{variant:"h6"},"What is your decision?")),l.a.createElement(E.a,{item:!0,container:!0,justify:"center"},l.a.createElement(G.a,{variant:"body2"},"Human input will improve the algorithm")),l.a.createElement(E.a,{item:!0,container:!0,justify:"space-evenly",className:p.chips},l.a.createElement(Q.a,{variant:m(ue),color:"secondary",icon:l.a.createElement(W.a,null),label:de(ue),onClick:function(){return u(ue)}}),l.a.createElement(Q.a,{variant:m(me),color:"secondary",icon:l.a.createElement(U,null),label:de(me),onClick:function(){return u(me)}}),l.a.createElement(Q.a,{variant:m(pe),color:"secondary",icon:l.a.createElement($.a,null),label:de(pe),onClick:function(){return u(pe)}}))),l.a.createElement(le,{handleClose:function(){r(!1)},open:a}))),l.a.createElement(L.a,{className:p.section3},l.a.createElement(P.a,{light:!0,classes:{root:p.divider}}),l.a.createElement(E.a,{container:!0,justify:"space-evenly"},l.a.createElement(D.a,{startIcon:l.a.createElement(z.a,{fontSize:"small"}),color:"secondary",onClick:function(){te()(document.querySelector(".MuiGrid-root")).then((function(t){var n=document.createElement("a");n.href=t.toDataURL("image/png").replace("image/png","image/octet-stream"),n.download="".concat(e.patient.id,"_decision_tool.png"),n.click()}))}},"Save"),l.a.createElement(D.a,{startIcon:l.a.createElement(H.a,{fontSize:"small"}),color:"secondary",onClick:e.onClearAll},"Clear all"))))})),ge=n(379),Ce=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getColor",value:function(){return this.props.items.find((function(e){return e.selected}))?this.props.color:_.a.palette.common.grey}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.icon;return l.a.createElement(E.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(E.a,{item:!0,md:2},l.a.createElement(b.a,null,l.a.createElement(w,{icon:n,color:this.getColor()}),l.a.createElement(L.a,{m:1,color:"text.primary",fontWeight:"bold"},this.props.categoryName))),l.a.createElement(E.a,{item:!0,md:10,className:t.chipWrapper},this.props.items&&Object.keys(this.props.items).map((function(t,n){var a=e.props.items[t].selected,r=Boolean(e.props.items[t].contribution),i=a?e.props.color:_.a.palette.grey[600],o="".concat(e.props.items[t].text," ").concat(r?"+"+e.props.items[t].contribution:"");return l.a.createElement(L.a,{key:n,fontWeight:a?"bold":"normal"},l.a.createElement(Q.a,{style:{backgroundColor:Object(ge.fade)(i,.2),color:i},label:o,onClick:e.props.onSelectionChange.bind(null,e.props.categoryName,e.props.items[t].key)}))}))))}}]),n}(s.Component),ye=Object(p.a)((function(e){return{chipWrapper:{display:"flex",justifyContent:"left",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}}}}),{withTheme:!0})(Ce),Ee=n(535),be=n.n(Ee),ve=n(534),Oe=n.n(ve),ke=n(533),Se=n.n(ke),Le=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"getColor",value:function(){return Object.values(this.props.patient.clinicalStatus).reduce((function(e,t){return e+t}),0)?this.props.color:_.a.palette.common.grey}},{key:"vitalChange",value:function(e,t){this.props.onClinicalStatusChange(t,Number(e.target.value))}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.icon;return l.a.createElement(E.a,{container:!0,spacing:2,alignItems:"center"},l.a.createElement(E.a,{item:!0,md:2},l.a.createElement(b.a,null,l.a.createElement(w,{icon:n,color:this.getColor()}),l.a.createElement(L.a,{m:1}),l.a.createElement(G.a,{variant:"body2",display:"inline",color:"primary"},"Vitals"))),l.a.createElement(E.a,{item:!0,md:10},l.a.createElement(b.a,{disableGutters:!0},this.props.items.map((function(n){return l.a.createElement(j.a,{value:Boolean(e.props.patient.clinicalStatus[n.key])&&e.props.patient.clinicalStatus[n.key],onChange:function(t){return e.vitalChange(t,n.key)},key:n.key,type:"number",className:t.input,label:n.text,helperText:n.unit,variant:"outlined",color:"secondary"})})))))}}]),n}(s.Component),je=Object(p.a)((function(e){return{input:{marginRight:e.spacing(2)}}}),{withTheme:!0})(Le),Ie=n(436),xe=n.n(Ie),_e=n(387),Ne=n.n(_e),we=n(35),Ae=n(132),Te=n(67),Me=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"getHeaders",value:function(){var e=Object(C.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="Bearer ",e.next=3,we.a.currentSession();case 3:return e.t1=e.sent.getIdToken().getJwtToken(),e.t2=e.t0.concat.call(e.t0,e.t1),e.abrupt("return",{Authorization:e.t2});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"updateRecommendation",value:function(){var e=Object(C.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toServerModel(),e.t0=Ae.a,e.t1=Te.b.stagingAuth,e.t2=n,e.next=6,this.getHeaders();case 6:return e.t3=e.sent,e.t4={body:e.t2,headers:e.t3},e.abrupt("return",e.t0.post.call(e.t0,e.t1,"/getPatientModelRecommendation",e.t4).then((function(e){return e.recommendation})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(C.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={patient_id:Ne()(t)},e.t0=Ae.a,e.t1=Te.b.stagingAuth,e.t2=n,e.next=6,this.getHeaders();case 6:return e.t3=e.sent,e.t4={body:e.t2,headers:e.t3},e.abrupt("return",e.t0.post.call(e.t0,e.t1,"/getRecordsByPatient",e.t4).then((function(e){return Object.values(e||{})[0]})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),De=n(532),Pe=n.n(De),Ge=n(489),Be=n.n(Ge),Re=function(){function e(){Object(a.a)(this,e),this.id="",this.information={age:0,gender:""},this.coronaPositive=!1,this.medicalPreconditions={copd:!1,htn:!1,dm:!1,smoker:!1,cad:!1,chf:!1,ckd:!1,hd:!1,cld:!1,dementia:!1,cancer:!1,aids:!1},this.clinicalStatus={temperature:0,pulse:0,respiratory_rate:0,auscultation:0,mental_status:0,oxygen_saturation:0},this.treatment={psychiatric_treatment:!1,anti_inflamatory_regular_treatment:!1,growth_hormone_children:!1,immuno_depressant_drugs:!1},this.otherConsiderations={mobility_problem:!1,potential_for_home_quarentine:!1,pregnent_healthy:!1,youngs_with_asthma:!1}}return Object(r.a)(e,[{key:"toServerModel",value:function(){var e=Be()(this);return{patient_id:Ne()(e.id),patient_information:this.BoolToNum(e.information),corona_status:{corona_positive:e.coronaPositive},medical_preconditions:this.BoolToNum(e.medicalPreconditions),clinical_status:this.BoolToNum(e.clinicalStatus),treatment:this.BoolToNum(e.treatment),other_considerations:this.BoolToNum(e.otherConsiderations)}}},{key:"toClientModel",value:function(t,n){var a=new e;return a.id=t,a.information=n.patient_information,a.medicalPreconditions=this.NumToBool(n.medical_preconditions),a.clinicalStatus=n.clinical_status,a.coronaPositive=n.corona_status.corona_positive,a.treatment=this.NumToBool(n.treatment),a.otherConsiderations=this.NumToBool(n.other_considerations),a}},{key:"BoolToNum",value:function(e){for(var t={},n=0,a=Object.entries(e);n<a.length;n++){var r=Object(M.a)(a[n],2),i=r[0],o=r[1];t[i]="boolean"===typeof o?Number(o):o}return t}},{key:"NumToBool",value:function(e){for(var t={},n=0,a=Object.entries(e);n<a.length;n++){var r=Object(M.a)(a[n],2),i=r[0],o=r[1];t[i]="number"===typeof o?Boolean(o):o}return t}}]),e}(),Fe={patient:new Re,medicalSelections:{},otherConsiderationsSelection:{},riskScores:{},recommendation:{}},He=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state=Fe,r.patient=new Re,r.Api=new Me,r.onAgeChange=r.onAgeChange.bind(Object(y.a)(r)),r.onGenderChange=r.onGenderChange.bind(Object(y.a)(r)),r.onIDChange=r.onIDChange.bind(Object(y.a)(r)),r.onMedicalItemChange=r.onMedicalItemChange.bind(Object(y.a)(r)),r.onHomeEnvItemChange=r.onHomeEnvItemChange.bind(Object(y.a)(r)),r.onClinicalStatusChange=r.onClinicalStatusChange.bind(Object(y.a)(r)),r.reset=r.reset.bind(Object(y.a)(r)),r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.reset()}},{key:"reset",value:function(){this.patient=new Re,Fe.patient=this.patient,this.setState(Fe),this.setSelections()}},{key:"onHomeEnvItemChange",value:function(e,t){var n=this.state.otherConsiderationsSelection.items.find((function(e){return e.key===t}));n.selected=!n.selected,this.patient.otherConsiderations[t]=n.selected,this.setState({patient:this.patient,otherConsiderationsSelection:this.state.otherConsiderationsSelection}),this.Api.updateRecommendation(this.patient)}},{key:"onMedicalItemChange",value:function(e,t){var n=this.state.medicalSelections[e].items.find((function(e){return e.key===t}));n.selected=!n.selected,this.patient.medicalPreconditions[t]=n.selected,this.setState({patient:this.patient,selections:this.state.medicalSelections}),this.updateScores()}},{key:"updateScores",value:function(){var e=Object(C.a)(f.a.mark((function e(){var t,a,r,i,o=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(g.a)({},this.state.riskScores),e.next=3,this.Api.updateRecommendation(this.patient);case 3:for(i in a=e.sent,r=function(e){o.state.medicalSelections[e].items.forEach((function(e){e.contribution=a.contributing_factors[e.key]?a.contributing_factors[e.key]:0}));var r=n.MEDICAL_PRECONDITIONS_CONFIG.find((function(t){return t.text===e})).items.map((function(e){return e.key})),i=xe()(a.contributing_factors,r);t[e]=Object.values(i).reduce((function(e,t){return e+t}),0)},this.state.medicalSelections)r(i);t.Patient=a.contributing_factors.age,this.setState({riskScores:t,recommendation:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAgeChange",value:function(e){this.patient.information.age=e,this.setState({patient:this.patient});2<=e&&e<120&&this.updateScores()}},{key:"onGenderChange",value:function(e){this.patient.information.gender=e,this.setState({patient:this.patient}),this.updateScores()}},{key:"onIDChange",value:function(){var e=Object(C.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.patient.id=t.target.value,this.setState({patient:this.patient}),!x()(this.patient.id)){e.next=9;break}return e.next=5,this.Api.getUserInfo(this.patient.id);case 5:"patient not found"!==(n=e.sent)&&(this.patient=this.patient.toClientModel(this.patient.id,n),this.setSelections()),this.setState({patient:this.patient}),this.updateScores();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onClinicalStatusChange",value:function(e,t){this.patient.clinicalStatus[e]=t,this.setState({patient:this.patient}),this.Api.updateRecommendation(this.patient)}},{key:"setSelections",value:function(){var e=this,t=Object(g.a)({},this.state.medicalSelections),a=Object(g.a)({},this.state.otherConsiderationsSelection);Object.assign(this.state.riskScores,n.SCORE_CATEGORIES.map((function(e){return e.text})).reduce((function(e,t){return e[t]=0,e}),{})),n.MEDICAL_PRECONDITIONS_CONFIG.forEach((function(n){t[n.text]=n,t[n.text].items=t[n.text].items.map((function(t){return Object(g.a)({},t,{selected:e.patient.medicalPreconditions[t.key],contribution:0})}))})),(a=n.HOME_ENV_CONFIG).items=a.items.map((function(t){return Object(g.a)({},t,{selected:e.patient.otherConsiderations[t.key]})})),this.setState({medicalSelections:t,otherConsiderationsSelection:a})}},{key:"render",value:function(){var e=this,t=this.props.classes;return l.a.createElement(E.a,{container:!0},l.a.createElement(E.a,{item:!0,md:8,className:t.leftPanel},l.a.createElement(L.a,{py:2},l.a.createElement(T,{color:n.STATIC_RISK_CONFIG.color,icon:n.STATIC_RISK_CONFIG.icon,patient:this.state.patient,recommendation:this.state.recommendation,onPatientAgeChange:this.onAgeChange,onPatientGenderChange:this.onGenderChange,onIDChange:this.onIDChange})),l.a.createElement(P.a,{light:!0,classes:{root:t.divider}}),Object.keys(this.state.medicalSelections).map((function(n){return l.a.createElement("div",{key:n},l.a.createElement(L.a,{py:2},l.a.createElement(ye,{onSelectionChange:e.onMedicalItemChange,items:e.state.medicalSelections[n].items,icon:e.state.medicalSelections[n].icon,color:e.state.medicalSelections[n].color,categoryName:n})),l.a.createElement(P.a,{light:!0,classes:{root:t.divider}}))})),this.state.otherConsiderationsSelection.items&&l.a.createElement(L.a,{py:2},l.a.createElement(ye,{onSelectionChange:this.onHomeEnvItemChange,items:this.state.otherConsiderationsSelection.items,icon:n.HOME_ENV_CONFIG.icon,color:n.HOME_ENV_CONFIG.color,categoryName:n.HOME_ENV_CONFIG.text})),l.a.createElement(P.a,{light:!0,classes:{root:t.divider}}),l.a.createElement(L.a,{py:2},l.a.createElement(je,{color:n.VITALS_CONFIG.color,icon:n.VITALS_CONFIG.icon,items:n.VITALS_CONFIG.items,patient:this.state.patient,onClinicalStatusChange:this.onClinicalStatusChange}))),l.a.createElement(E.a,{item:!0,md:4},l.a.createElement(fe,{patient:this.state.patient,riskScores:this.state.riskScores,recommendation:this.state.recommendation,onClearAll:this.reset})))}}]),n}(s.Component);He.STATIC_RISK_CONFIG={text:"Patient",key:"Patient",color:"#8716E0",icon:Pe.a},He.MEDICAL_PRECONDITIONS_CONFIG=[{text:"Pulmonary",color:"#00B0BB",icon:function(e){return l.a.createElement(K.a,e,l.a.createElement("path",{d:"M12,2 C12.5522847,2 13,2.44771525 13,3 L12.9997864,9.585 L14.0465505,10.6318682 C14.3073108,9.13371144 15.5282684,8 16.9951047,8 C19.9951047,8 21.9951047,14.4615385 21.9951047,17.6923077 C21.9951047,20.0713805 20.2042437,22 17.9951047,22 C15.8529093,22 14.1040258,20.1864955 14,17.907305 L14,13.414 L11.9997864,11.414 L9.994,13.418 L9.99510469,17.907305 C9.89432968,20.1152708 8.2498943,21.8862012 6.19964034,21.9947281 L6,22 C3.790861,22 2,20.0713805 2,17.6923077 C2,14.4615385 4,8 7,8 C8.46782012,8 9.68943157,9.13523269 9.94907756,10.6348831 L10.9997864,9.585 L11,3 C11,2.44771525 11.4477153,2 12,2 Z M16.9951047,10 C16.5332306,10 16.0958448,10.4146337 16.0101661,11.0166078 L16,11.118 L15.9979201,17.8161168 C16.0523834,19.0093995 16.8823096,19.9144576 17.855214,19.9942701 L17.9951047,20 C19.0652012,20 19.9951047,18.9985655 19.9951047,17.6923077 C19.9951047,14.5272955 18.0332767,10 16.9951047,10 Z M7,10 C5.96182804,10 4,14.5272955 4,17.6923077 C4,18.9417716 4.85080019,19.9123425 5.86128215,19.994378 L6,20 L6.13989069,19.9942701 C7.06414989,19.9184482 7.85937124,19.0978422 7.98327819,17.9928804 L7.9971846,17.8161168 L7.99510469,11.118 L7.98493856,11.0166078 C7.89925987,10.4146337 7.46187408,10 7,10 Z"}))},items:[{key:"copd",text:"COPD"},{key:"smoker",text:"Smoker"}]},{text:"Cardiovalcular",color:"#E01683",icon:Se.a,items:[{key:"htn",text:"Hypertension"},{key:"hd",text:"Ischemic Heart Disease"},{key:"chf",text:"Heart Failure"}]},{text:"Other Conditions",color:"#F08627",icon:Oe.a,items:[{key:"dm",text:"Diabetes Mellitus"},{key:"aids",text:"HIV / AIDS"},{key:"dementia",text:"Dementia"},{key:"cld",text:"Cirrhosis / Chronic Liver Disease"},{key:"ckd",text:"Chronic Kidney Disease"},{key:"cancer",text:"Malignancy"}]}],He.HOME_ENV_CONFIG={text:"Home Environment",color:"#06B30D",icon:be.a,items:[{key:"mobility_problem",text:"Immobile"},{key:"potential_for_home_quarentine",text:"Home quarantine is possible"},{key:"todo missing",text:"A member of the same household is in a risk group"}]},He.VITALS_CONFIG={text:"Vitals",color:"#8716E0",icon:function(e){return l.a.createElement(K.a,e,l.a.createElement("path",{d:"M3,13H5.79L10.1,4.79L11.28,13.75L14.5,9.66L17.83,13H21V15H17L14.67,12.67L9.92,18.73L8.94,11.31L7,15H3V13Z"}))},items:[{text:"Temperature",key:"temperature",unit:"Celsius"},{text:"Pulse",key:"pulse",unit:"Per minute"},{text:"Respiratory Rate",key:"respiratory_rate",unit:"Per minute"},{text:l.a.createElement(G.a,null,"O",l.a.createElement("sub",null,"2")," Saturation"),key:"oxygen_saturation",unit:"ABG"}]},He.SCORE_CATEGORIES=[He.STATIC_RISK_CONFIG].concat(He.MEDICAL_PRECONDITIONS_CONFIG);var Ve=Object(p.a)((function(e){return{leftPanel:{boxShadow:"2px 0px 0px rgba(0, 0, 0, 0.12);"},divider:{height:1}}}),{withTheme:!0})(He),ze=n(538),Ze=function(e){var t=e.component,n=Object(ze.a)(e,["component"]);return l.a.createElement(h.a,Object.assign({},n,{render:function(e){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=Object.assign.apply(Object,[{}].concat(n));return l.a.createElement(e,r)}(t,e,n)}}))};var We=Object(p.a)((function(e){return{wrapper:Object(c.a)({width:"auto"},e.breakpoints.up("md"),{width:"100%",marginLeft:"auto",marginRight:"auto"})}}),{withTheme:!0})(Object(s.memo)((function(e){var t=e.classes;return l.a.createElement("div",{className:t.wrapper},l.a.createElement(h.c,null,l.a.createElement(Ze,{path:"",component:Ve})))}))),Ke=n(583),Ue=n(584),qe=n(585),Je=n(576),$e=n(536),Qe=n.n($e),Xe=n(587),Ye=n(537),et=n(586),tt=Object(Ke.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:e.palette.common.white},leftSide:{flexGrow:1},userName:{textAlign:"end"}}}));function nt(){var e=tt(),t=l.a.useState(null),n=Object(M.a)(t,2),a=n[0],r=n[1],i=l.a.useState("Dr. Liat Ezra"),o=Object(M.a)(i,2),c=o[0],s=o[1],u=Boolean(a),m=function(){r(null)};return we.a.currentAuthenticatedUser().then((function(e){s(e.username)})).catch((function(e){return console.error(e)})),l.a.createElement("div",{className:e.root},l.a.createElement(Ue.a,{position:"static",className:e.appBar,variant:"outlined"},l.a.createElement(qe.a,null,l.a.createElement(b.a,{alignItems:"center",className:e.leftSide},l.a.createElement(L.a,{color:"text.primary",fontWeight:900,fontSize:24,mr:2},"HOSP"),l.a.createElement(P.a,{orientation:"vertical",flexItem:!0}),l.a.createElement(L.a,{color:_.a.palette.secondary.main,fontSize:18,ml:2},"Decision Support Tool")),l.a.createElement(b.a,null,l.a.createElement(et.a,{className:e.userName,primary:l.a.createElement(G.a,{color:"textPrimary"},c)}),l.a.createElement(Je.a,{onClick:function(e){r(e.currentTarget)},color:"primary"},l.a.createElement(Qe.a,null)),l.a.createElement(Ye.a,{anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:m},l.a.createElement(Xe.a,{onClick:m},"About"),l.a.createElement(Xe.a,{onClick:function(){we.a.signOut().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},"Logout"))))))}var at=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={CardChart:null,EmojiTextArea:null,ImageCropper:null,Dropzone:null,DateTimePicker:null,transactions:[],statistics:{views:[],profit:[]},posts:[],targets:[],messages:[],isAccountActivated:!1,addBalanceDialogOpen:!1},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.classes;return l.a.createElement(s.Fragment,null,l.a.createElement(nt,null),l.a.createElement("main",{className:m()(e.main)},l.a.createElement(We,null)))}}]),n}(s.PureComponent);t.default=Object(p.a)((function(e){return{main:Object(c.a)({transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},e.breakpoints.down("xs"),{marginLeft:0})}}),{withTheme:!0})(at)}}]);
//# sourceMappingURL=4.8343dd94.chunk.js.map