{"version":3,"sources":["logged_in/components/ui_components/LargeIcon.js","logged_in/components/dashboard/PatientInfo.js","icons/icons.js","logged_in/components/dashboard/MultiColorProgressBar.js","logged_in/components/ui_components/BigBlue.js","logged_in/components/dashboard/Summary.js","logged_in/components/dashboard/RiskCategory.js","logged_in/components/dashboard/Vitals.js","api/Api.js","logged_in/components/dashboard/Patient.js","logged_in/components/dashboard/Dashboard.js","shared/components/PropsRoute.js","logged_in/components/Routing.js","logged_in/components/navigation/NavBar.js","logged_in/components/Main.js"],"names":["LargeIcon","Icon","this","props","icon","Box","style","display","fontSize","color","Component","withStyles","theme","withTheme","PatientInfo","onAgeChange","bind","event","age","Number","target","value","onPatientAgeChange","onPatientGenderChange","isIsraeliIdValid","patient","id","recommendation","contributing_factors","toPrecision","information","palette","common","grey","classes","Grid","container","spacing","alignItems","item","md","ListItem","getColor","m","fontWeight","mt","TextField","type","className","idInput","error","isIDValid","label","variant","onChange","onIDChange","helperText","ageInput","Boolean","getAgeContributionFactor","RadioGroup","aria-label","gender","onGenderChange","width","FormControlLabel","control","Radio","size","visibility","Checkbox","checked","otherConsiderations","pregnent_healthy","name","marginRight","HotelIcon","SvgIcon","d","RobotIcon","MultiColorProgressBar","parent","values","readings","length","map","i","percent","key","calibrations","bars","BigBlue","finalClasses","bigBox","disable","greyBox","blueBox","textAlign","borderRadius","border","lightGrey","background","getProgressData","makeNice","a","toFixed","replace","results","Dashboard","SCORE_CATEGORIES","find","config","text","push","riskScores","emptyPercentage","r","reduce","b","section1","flex","section2","section3","position","bottom","chips","paddingTop","divider","height","direction","alignContent","justify","risk_score","secondary","main","HomeIcon","LocalHospitalIcon","mr","Typography","Chip","Divider","light","root","Button","startIcon","onClick","html2canvas","document","querySelector","then","canvas","createElement","href","toDataURL","download","click","onClearAll","RiskCategory","items","selected","categoryName","chipWrapper","Object","keys","detail","isSelected","isContribution","contribution","backgroundColor","fade","onSelectionChange","justifyContent","flexWrap","margin","Vitals","clinicalStatus","onClinicalStatusChange","disableGutters","vital","e","vitalChange","input","unit","Api","Auth","currentSession","getIdToken","getJwtToken","body","toServerModel","API","Endpoints","stagingAuth","getHeaders","headers","post","patient_id","getUuid","Patient","coronaPositive","medicalPreconditions","copd","htn","dm","smoker","cad","chf","ckd","hd","cld","dementia","cancer","aids","temperature","pulse","respiratory_rate","auscultation","mental_status","oxygen_saturation","treatment","psychiatric_treatment","anti_inflamatory_regular_treatment","growth_hormone_children","immuno_depressant_drugs","mobility_problem","potential_for_home_quarentine","youngs_with_asthma","_cloneDeep","patient_information","BoolToNum","corona_status","corona_positive","medical_preconditions","clinical_status","other_considerations","userInfo","NumToBool","object","returnObject","entries","initialState","medicalSelections","otherConsiderationsSelection","state","onMedicalItemChange","onHomeEnvItemChange","reset","setState","setSelections","category","categoryItem","updateRecommendation","selections","updateScores","forEach","categoryKeys","MEDICAL_PRECONDITIONS_CONFIG","categoryFactors","_pick","getUserInfo","toClientModel","assign","o","HOME_ENV_CONFIG","leftPanel","py","STATIC_RISK_CONFIG","categoryKey","VITALS_CONFIG","AccountCircleOutlinedIcon","FavoriteBorderOutlinedIcon","AssignmentOutlinedIcon","HomeOutlinedIcon","concat","boxShadow","PropsRoute","component","rest","render","routeProps","finalProps","React","renderMergedProps","wrapper","breakpoints","up","marginLeft","memo","path","useStyles","makeStyles","flexGrow","appBar","white","leftSide","userName","MenuAppBar","useState","anchorEl","setAnchorEl","username","setUserName","open","handleClose","currentAuthenticatedUser","user","catch","err","console","AppBar","Toolbar","orientation","flexItem","ml","ListItemText","primary","IconButton","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","signOut","data","log","Main","CardChart","EmojiTextArea","ImageCropper","Dropzone","DateTimePicker","transactions","statistics","views","profit","posts","targets","messages","isAccountActivated","addBalanceDialogOpen","classNames","PureComponent","transition","transitions","create","easing","sharp","duration","leavingScreen","down"],"mappings":"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","file":"static/js/4.f1fc64bf.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\nimport {withStyles} from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\n\nconst styles = theme => ({\n\n});\n\nclass LargeIcon extends Component {\n  render() {\n    const Icon = this.props.icon;\n    return <Box style={{ display: 'inline-block' }} fontSize={32}><Icon style={{ display: 'flex', color: this.props.color }} fontSize={'inherit'}/></Box>\n  };\n}\n\nLargeIcon.propTypes = {\n  icon: PropTypes.oneOfType([\n    PropTypes.func.isRequired,\n    PropTypes.object.isRequired\n  ]),\n  color: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(LargeIcon);\n","import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\nimport {Grid, ListItem, withStyles} from '@material-ui/core';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Radio from '@material-ui/core/Radio';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport isIsraeliIdValid from 'israeli-id-validator';\nimport theme from '../../../theme';\nimport LargeIcon from '../ui_components/LargeIcon';\n\nconst styles = theme => ({\n  idInput: {\n    marginRight: theme.spacing(2)\n  },\n  ageInput: {\n    marginRight: theme.spacing(2),\n    width: 100\n  }\n});\n\nclass PatientInfo extends Component {\n  constructor(props) {\n    super(props);\n    this.onAgeChange = this.onAgeChange.bind(this);\n  }\n\n  onAgeChange(event) {\n    let age = Number(event.target.value);\n    this.props.onPatientAgeChange(age);\n  }\n\n  onGenderChange(event) {\n    this.props.onPatientGenderChange(event.target.value);\n  }\n\n  isIDValid() {\n    return isIsraeliIdValid(this.props.patient.id);\n  }\n\n  getAgeContributionFactor() {\n    return (this.props.recommendation.contributing_factors && `+${this.props.recommendation.contributing_factors.age.toPrecision(2)}`) || ' '\n  }\n\n  getColor() {\n    return this.props.patient.information.age ? this.props.color : theme.palette.common.grey;\n  }\n\n  render() {\n  const { classes } = this.props;\n  const Icon = this.props.icon;\n\n  return <Grid container spacing={2} alignItems={'center'}>\n    <Grid item md={2}>\n      <ListItem>\n        <LargeIcon icon={Icon} color={this.getColor()}></LargeIcon>\n        <Box m={1} color=\"text.primary\" fontWeight={'bold'}>Patient</Box>\n      </ListItem>\n    </Grid>\n    <Grid item md={10}>\n      <Grid container alignItems={'center'}>\n        <Box mt={3}>\n          <TextField type={'number'} className={classes.idInput}\n                     error={!this.isIDValid()}\n                     label={'ID'}\n                     value={this.props.patient.id}\n                     variant=\"outlined\"\n                     onChange={this.props.onIDChange}\n                     color=\"secondary\"\n                     helperText={this.isIDValid() ? ' ' : 'Enter a valid ID'}>\n          </TextField>\n          <TextField type={'number'} className={classes.ageInput}\n                     label={'Age'}\n                     variant=\"outlined\"\n                     value={Boolean(this.props.patient.information.age) && this.props.patient.information.age}\n                     onChange={this.onAgeChange}\n                     color=\"secondary\"\n                     helperText={this.getAgeContributionFactor()}/>\n        </Box>\n        <RadioGroup aria-label=\"gender\" value={this.props.patient.information.gender} style={{display: 'inline'}} onChange={this.onGenderChange.bind(this)}>\n          <Grid container style={{display: 'inline-flex', width: 185}}>\n            <Grid item md={6}>\n              <FormControlLabel value=\"female\" control={<Radio size={'small'} color={'secondary'}/>} label=\"Female\"/>\n            </Grid>\n            <Grid item md={6} >\n              <FormControlLabel value=\"male\" control={<Radio size={'small'} color={'secondary'}/>} label=\"Male\"/>\n            </Grid>\n            <Grid item md={12}>\n              <FormControlLabel\n                style={{visibility: this.props.patient.information.gender === 'female' ? 'visible' : 'hidden'}}\n                control={\n                  <Checkbox\n                    size={'small'}\n                    checked={this.props.patient.otherConsiderations.pregnent_healthy}\n                    onChange={() => {}}\n                    name=\"checkedB\"\n                    color=\"secondary\"\n                  />}\n                label=\"Pregnant\"\n              />\n            </Grid>\n          </Grid>\n        </RadioGroup>\n        <FormControlLabel\n          control={\n            <Checkbox\n              size={'small'}\n              checked={true}\n              onChange={() => {}}\n              name=\"checkedB\"\n              color=\"secondary\"\n            />}\n          label=\"COVID-19 Positive\"\n        />\n      </Grid>\n    </Grid>\n  </Grid>\n  };\n}\n\nPatientInfo.propTypes = {\n  icon: PropTypes.object.isRequired,\n  color: PropTypes.string.isRequired,\n  patient: PropTypes.object.isRequired,\n  recommendation: PropTypes.object.isRequired,\n  onPatientAgeChange: PropTypes.func.isRequired,\n  onPatientGenderChange: PropTypes.func.isRequired,\n  onIDChange: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(PatientInfo);\n","import SvgIcon from '@material-ui/core/SvgIcon';\nimport React from 'react';\n\nfunction HotelIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M2,22 L2,20 L5,20 L5,2 L19,2 L19,20 L22,20 L22,22 L2,22 Z M17,4 L7,4 L7,20 L10,20 L10,15 L14,15 L14,20 L17,20 L17,4 Z M11,11 L11,13 L8,13 L8,11 L11,11 Z M16,11 L16,13 L13,13 L13,11 L16,11 Z M11,8 L11,10 L8,10 L8,8 L11,8 Z M16,8 L16,10 L13,10 L13,8 L16,8 Z M11,5 L11,7 L8,7 L8,5 L11,5 Z M16,5 L16,7 L13,7 L13,5 L16,5 Z\"/>\n    </SvgIcon>\n  );\n}\n\nfunction LungsIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12,2 C12.5522847,2 13,2.44771525 13,3 L12.9997864,9.585 L14.0465505,10.6318682 C14.3073108,9.13371144 15.5282684,8 16.9951047,8 C19.9951047,8 21.9951047,14.4615385 21.9951047,17.6923077 C21.9951047,20.0713805 20.2042437,22 17.9951047,22 C15.8529093,22 14.1040258,20.1864955 14,17.907305 L14,13.414 L11.9997864,11.414 L9.994,13.418 L9.99510469,17.907305 C9.89432968,20.1152708 8.2498943,21.8862012 6.19964034,21.9947281 L6,22 C3.790861,22 2,20.0713805 2,17.6923077 C2,14.4615385 4,8 7,8 C8.46782012,8 9.68943157,9.13523269 9.94907756,10.6348831 L10.9997864,9.585 L11,3 C11,2.44771525 11.4477153,2 12,2 Z M16.9951047,10 C16.5332306,10 16.0958448,10.4146337 16.0101661,11.0166078 L16,11.118 L15.9979201,17.8161168 C16.0523834,19.0093995 16.8823096,19.9144576 17.855214,19.9942701 L17.9951047,20 C19.0652012,20 19.9951047,18.9985655 19.9951047,17.6923077 C19.9951047,14.5272955 18.0332767,10 16.9951047,10 Z M7,10 C5.96182804,10 4,14.5272955 4,17.6923077 C4,18.9417716 4.85080019,19.9123425 5.86128215,19.994378 L6,20 L6.13989069,19.9942701 C7.06414989,19.9184482 7.85937124,19.0978422 7.98327819,17.9928804 L7.9971846,17.8161168 L7.99510469,11.118 L7.98493856,11.0166078 C7.89925987,10.4146337 7.46187408,10 7,10 Z\"/>\n    </SvgIcon>\n  );\n}\n\nfunction PulseIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M3,13H5.79L10.1,4.79L11.28,13.75L14.5,9.66L17.83,13H21V15H17L14.67,12.67L9.92,18.73L8.94,11.31L7,15H3V13Z\" />\n    </SvgIcon>\n  );\n}\n\nfunction RobotIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12,2 C13.1045695,2 14,2.8954305 14,4 C14,4.7398375 13.5982846,5.38584934 13.0010775,5.73181186 L13,8 L18,8 C19.1045695,8 20,8.8954305 20,10 L20.0010775,11.2681881 C20.5982846,11.6141507 21,12.2601625 21,13 C21,13.7398375 20.5982846,14.3858493 20.0010775,14.7318119 L20,16 C20,17.1045695 19.1045695,18 18,18 L14,18 L14,20 L21,20 C21.5522847,20 22,20.4477153 22,21 C22,21.5522847 21.5522847,22 21,22 L3,22 C2.44771525,22 2,21.5522847 2,21 C2,20.4477153 2.44771525,20 3,20 L10,20 L10,18 L6,18 C4.8954305,18 4,17.1045695 4,16 L3.99992752,14.7323937 C3.40216612,14.3865739 3,13.7402524 3,13 C3,12.2597476 3.40216612,11.6134261 3.99992752,11.2676063 L4,10 C4,8.8954305 4.8954305,8 6,8 L11,8 L10.9999275,5.73239368 C10.4427094,5.41002921 10.0554537,4.82654371 10.0054857,4.14926234 L10,4 C10,2.8954305 10.8954305,2 12,2 Z M18,10 L6,10 L6,16 L18,16 L18,10 Z M10,12 L10,14 L8,14 L8,12 L10,12 Z M16,12 L16,14 L14,14 L14,12 L16,12 Z\"/>\n    </SvgIcon>\n  );\n}\n\n\nexport {HotelIcon, LungsIcon, PulseIcon, RobotIcon}","import {withStyles} from '@material-ui/core';\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport './MultiColorProgressBar.css';\n\nconst styles = theme => ({\n\n});\n\nclass MultiColorProgressBar extends Component {\n  render() {\n    const parent = this.props;\n\n    let values = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\n      if(item.percent > 0) {\n        return (\n          <div className=\"value\" style={{'color': item.color, 'width': item.percent + '%'}}  key={i}>\n            <span>{item.value}</span>\n          </div>\n        )\n      }\n      return null;\n    }, this);\n\n    let calibrations = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\n      if(item.percent > 0) {\n        return (\n          <div className=\"graduation\" style={{'color': item.color, 'width': item.percent + '%'}}  key={i}>\n            <span>|</span>\n          </div>\n        )\n      }\n      return null;\n    }, this);\n\n    let bars = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\n      if(item.percent > 0) {\n        return (\n          <div className=\"bar\" style={{'backgroundColor': item.color, 'width': item.percent + '%'}}  key={i}>\n\n          </div>\n        )\n      }\n      return null;\n    }, this);\n\n    return (\n      <div className=\"multicolor-bar\">\n        <div className=\"values\">\n          {values === ''?'':values}\n        </div>\n        <div className=\"scale\">\n          {calibrations === ''?'':calibrations}\n        </div>\n        <div className=\"bars\">\n          {bars === ''?'':bars}\n        </div>\n      </div>\n    );\n  }\n}\n\nMultiColorProgressBar.propTypes = {\n  readings: PropTypes.array.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(MultiColorProgressBar);\n","import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\nimport {withStyles} from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport LargeIcon from './LargeIcon';\n\nconst size = 6;\n\nconst styles = theme => ({\n  bigBox: {\n    'width': `${2.93 * size}em`,\n    'height': `${size}em`,\n    borderRadius: '70px'\n  },\n  greyBox: {\n    border: `1px solid ${theme.palette.common.lightGrey}`\n  },\n  blueBox: {\n    background: 'linear-gradient(180deg, #125FC6 0%, #2F80ED 124.5%)',\n  }\n});\n\nclass BigBlue extends Component {\n  render() {\n    const { classes } = this.props;\n    const Icon = this.props.icon;\n    let finalClasses = classes.bigBox + ' ' + (this.props.disable ? classes.greyBox : classes.blueBox);\n    return <div className={finalClasses}>\n      {!this.props.disable && <Box color=\"white\" fontSize={'43px'} textAlign={'center'} mt={1}><LargeIcon icon={Icon} color={'white'} style={{display: 'inline'}}/>{this.props.label}</Box>}\n    </div>\n  };\n}\n\nBigBlue.propTypes = {\n  icon: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.object\n  ]),\n  label: PropTypes.string,\n  empty: PropTypes.bool\n};\n\nexport default withStyles(styles, { withTheme: true })(BigBlue);\n","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport Typography from '@material-ui/core/Typography';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CloseIcon from '@material-ui/icons/Close';\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\nimport Box from '@material-ui/core/Box';\nimport HomeIcon from '@material-ui/icons/Home';\nimport {RobotIcon, HotelIcon} from '../../../icons/icons';\nimport LocalHospitalIcon from '@material-ui/icons/LocalHospital';\n\nimport Chip from '@material-ui/core/Chip';\nimport MultiColorProgressBar from './MultiColorProgressBar';\nimport Dashboard from './Dashboard';\nimport html2canvas from 'html2canvas';\nimport BigBlue from '../ui_components/BigBlue';\nimport theme from '../../../theme';\n\nconst styles = theme => ({\n  section1: {\n    flex: 1\n  },\n  section2: {\n    flex: 3\n  },\n  section3: {\n    position: 'sticky',\n    bottom: 0\n  },\n  chips: {\n    paddingTop: theme.spacing(2)\n  },\n  divider: {\n    height: 1\n  }\n});\n\nfunction getProgressData(props) {\n  const MAX_VALUE = 20;\n  let makeNice = a => a.toFixed(1).replace(/[.,]00$/, \"\");\n  let toPrecent = (item) => makeNice(((item / MAX_VALUE) * 100));\n\n  let results = [];\n  for (let key in props.riskScores) {\n    let color = Dashboard.SCORE_CATEGORIES.find(config => config.text === key).color;\n    results.push({name: key, value: makeNice(props.riskScores[key]), percent: toPrecent(props.riskScores[key]), color});\n  }\n  let emptyPercentage = 100 - results.map(r => Number(r.percent)).reduce((a,b) => a + b, 0);\n  if (emptyPercentage) {\n    results.push({name: '', value: makeNice(emptyPercentage), percent: emptyPercentage, color: '#fff'});\n  }\n  return results;\n}\n\nfunction Summary(props) {\n  function screenshot() {\n    html2canvas(document.querySelector('.MuiGrid-root')).then(canvas => {\n      var a = document.createElement('a');\n      a.href = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n      a.download = `${props.patient.id}_decision_tool.png`;\n      a.click();\n    })\n  }\n  const { classes } = props;\n\n  return (\n    <Grid container direction={'column'} style={{height: '100%'}}>\n      <Box mt={3} flex={1} className={classes.section1}>\n        <MultiColorProgressBar readings={getProgressData(props)}/>\n      </Box>\n      <Grid container direction={'column'} alignContent={'center'} className={classes.section2}>\n        <Grid item container={true} justify={'center'}>\n          <Grid\n            container\n            direction=\"column\"\n            justify=\"center\"\n            alignItems=\"center\">\n            <Box color={props.recommendation.risk_score ? theme.palette.secondary.main : theme.palette.common.lightGrey}>\n              Recommendation\n            </Box>\n\n\n            {(() => {\n              switch (props.recommendation.risk_score && props.recommendation.recommendation) {\n                case 'home':\n                  return <BigBlue icon={HomeIcon} label={'Home'}/>;\n                case 'hotel':\n                  return <BigBlue icon={HotelIcon} label={'Hotel'}/>;\n                case 'hospital':\n                  return <BigBlue icon={LocalHospitalIcon} label={'Hospital'}/>;\n                default:\n                  return <BigBlue disable={true}/>\n              }\n            })()}\n          </Grid>\n        </Grid>\n        <Box mt={10}>\n          <Grid container direction={'column'} alignContent={'center'}>\n            <Grid item container={true} justify={'center'}>\n              <Box mr={1}><RobotIcon></RobotIcon></Box>\n              <Typography variant=\"h6\">What is your decision?</Typography>\n            </Grid>\n            <Grid item container={true} justify={'center'}>\n              <Typography variant={'body2'}>Human input will improve the algorithm</Typography>\n            </Grid>\n            <Grid item container={true} justify={'space-evenly'} className={classes.chips}>\n              <Chip variant=\"outlined\" color=\"secondary\" icon={<HomeIcon />} label={'Home'}/>\n              <Chip variant=\"outlined\" color=\"secondary\" icon={<HotelIcon />} label={'Hotel'}/>\n              <Chip variant=\"outlined\" color=\"secondary\" icon={<LocalHospitalIcon />} label={'Hospital'}/>\n            </Grid>\n          </Grid>\n        </Box>\n      </Grid>\n      <Box className={classes.section3}>\n        <Divider light classes={{root: classes.divider}}/>\n        <Grid container justify={'space-evenly'}>\n          <Button startIcon={<SaveAltIcon fontSize=\"small\" />} color=\"secondary\" onClick={screenshot}>Save</Button>\n          <Button startIcon={<CloseIcon fontSize=\"small\" />} color=\"secondary\" onClick={props.onClearAll}>Clear all</Button>\n        </Grid>\n      </Box>\n    </Grid>\n  );\n}\n\nSummary.propTypes = {\n  patient: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired,\n  riskScores: PropTypes.object.isRequired,\n  recommendation: PropTypes.object.isRequired,\n  onClearAll: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(Summary);\n","import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\nimport {Grid, ListItem, withStyles} from '@material-ui/core';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport Box from '@material-ui/core/Box';\nimport Chip from '@material-ui/core/Chip';\nimport theme from '../../../theme';\nimport LargeIcon from '../ui_components/LargeIcon';\n\nconst styles = theme => ({\n  chipWrapper: {\n    display: 'flex',\n    justifyContent: 'left',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(0.5),\n    }\n  }\n});\n\nclass RiskCategory extends Component {\n  getColor() {\n    return this.props.items.find(a => a.selected) ? this.props.color : theme.palette.common.grey;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const Icon = this.props.icon;\n    return <Grid container spacing={2} alignItems={'center'}>\n      <Grid item md={2}>\n        <ListItem>\n          <LargeIcon icon={Icon} color={this.getColor()}></LargeIcon>\n          <Box m={1} color=\"text.primary\" fontWeight={'bold'}>{this.props.categoryName}</Box>\n        </ListItem>\n      </Grid>\n      <Grid item md={10} className={classes.chipWrapper}>\n          {this.props.items && Object.keys(this.props.items).map((detail, id) => {\n            let isSelected = this.props.items[detail].selected;\n            let isContribution = Boolean(this.props.items[detail].contribution);\n            let color = isSelected ? this.props.color : theme.palette.grey[600];\n            let label = `${this.props.items[detail].text} ${isContribution ? '+'+this.props.items[detail].contribution: ''}`;\n            return <Box key={id} fontWeight={isSelected ? 'bold' : 'normal'}><Chip\n                         style={{backgroundColor: fade(color, 0.2), color}}\n                         label={label}\n                         onClick={this.props.onSelectionChange.bind(null, this.props.categoryName, this.props.items[detail].key)}/>\n            </Box>;\n          })}\n      </Grid>\n    </Grid>\n  };\n}\n\nRiskCategory.propTypes = {\n  categoryName: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  icon: PropTypes.oneOfType([\n    PropTypes.func.isRequired,\n    PropTypes.object.isRequired\n  ]),\n  color: PropTypes.string.isRequired,\n  onSelectionChange: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(RiskCategory);\n","import React, {Component} from 'react';\nimport PropTypes from \"prop-types\";\nimport {Grid, ListItem, Typography, withStyles} from '@material-ui/core';\n\nimport Box from '@material-ui/core/Box';\nimport TextField from '@material-ui/core/TextField';\nimport theme from '../../../theme';\nimport LargeIcon from '../ui_components/LargeIcon';\n\nconst styles = theme => ({\n  input: {\n    marginRight: theme.spacing(2)\n  }\n});\n\nclass Vitals extends Component {\n\n  getColor() {\n    return Object.values(this.props.patient.clinicalStatus).reduce((a,b) => a+b, 0) ? this.props.color : theme.palette.common.grey;\n  }\n\n  vitalChange(event, key) {\n    this.props.onClinicalStatusChange(key, Number(event.target.value));\n  }\n\n  render() {\n  const { classes } = this.props;\n    const Icon = this.props.icon;\n\n  return <Grid container spacing={2} alignItems={'center'}>\n    <Grid item md={2}>\n      <ListItem>\n        <LargeIcon icon={Icon} color={this.getColor()}></LargeIcon>\n        <Box m={1}/>\n        <Typography\n          variant={'body2'}\n          display={'inline'}\n          color=\"primary\">\n          Vitals\n        </Typography>\n      </ListItem>\n    </Grid>\n    <Grid item md={10}>\n      <ListItem disableGutters>\n        {this.props.items.map(vital =>\n          <TextField\n            value={Boolean(this.props.patient.clinicalStatus[vital.key]) && this.props.patient.clinicalStatus[vital.key]}\n            onChange={(e) => this.vitalChange(e, vital.key)}\n            key={vital.key}\n            type={'number'}\n            className={classes.input}\n            label={vital.text}\n            helperText={vital.unit}\n            variant=\"outlined\"\n            color=\"secondary\"/>\n        )}\n      </ListItem>\n    </Grid>\n  </Grid>\n  };\n}\n\nVitals.propTypes = {\n  icon: PropTypes.func.isRequired,\n  color: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  patient: PropTypes.object.isRequired,\n  onClinicalStatusChange: PropTypes.func.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(Vitals);\n","import getUuid from 'uuid-by-string';\nimport {Auth, API} from 'aws-amplify';\nimport {Endpoints} from '../aws-exports';\n\nclass Api {\n  async getHeaders() {\n    return {'Authorization': `Bearer ${(await Auth.currentSession()).getIdToken().getJwtToken()}`}\n  }\n\n  async updateRecommendation(patient) {\n    let body = patient.toServerModel();\n    return API.post(Endpoints.stagingAuth, '/getPatientModelRecommendation', {body, headers: await this.getHeaders()}).then(a => a.recommendation);\n  }\n\n  async getUserInfo(id) {\n    let body = {patient_id: getUuid(id)};\n    return API.post(Endpoints.stagingAuth, '/getRecordsByPatient', {body, headers: await this.getHeaders()}).then(a => Object.values(a || {})[0]);\n  }\n}\n\nexport {Api};","import _cloneDeep from 'lodash/cloneDeep';\nimport getUuid from 'uuid-by-string';\n\nclass Patient {\n  constructor() {\n    this.id = '';\n    this.information = {\n      age: 0,\n      gender: ''\n    };\n    this.coronaPositive = false;\n    this.medicalPreconditions = {\n      copd: false,\n      htn: false,\n      dm: false,\n      smoker: false,\n      cad: false,\n      chf: false,\n      ckd: false,\n      hd: false,\n      cld: false,\n      dementia: false,\n      cancer: false,\n      aids: false\n    };\n    this.clinicalStatus = {\n      temperature: 0,\n      pulse: 0,\n      respiratory_rate: 0,\n      auscultation: 0,\n      mental_status: 0,\n      oxygen_saturation: 0\n    };\n\n    this.treatment = {\n      psychiatric_treatment: false,\n      anti_inflamatory_regular_treatment: false,\n      growth_hormone_children: false,\n      immuno_depressant_drugs: false\n    };\n\n    this.otherConsiderations = {\n      mobility_problem: false,\n      potential_for_home_quarentine: false,\n      pregnent_healthy: false,\n      youngs_with_asthma: false\n    }\n  }\n\n  toServerModel() {\n    let patient = _cloneDeep(this);\n    return {\n      patient_id: getUuid(patient.id),\n      patient_information: this.BoolToNum(patient.information),\n      corona_status: {\n        corona_positive: patient.coronaPositive\n      },\n      medical_preconditions: this.BoolToNum(patient.medicalPreconditions),\n      clinical_status: this.BoolToNum(patient.clinicalStatus),\n      treatment: this.BoolToNum(patient.treatment),\n      other_considerations: this.BoolToNum(patient.otherConsiderations)\n    };\n  }\n\n  toClientModel(id, userInfo) {\n    let patient = new Patient();\n    patient.id = id;\n    patient.information = userInfo.patient_information;\n    patient.medicalPreconditions = this.NumToBool(userInfo.medical_preconditions);\n    patient.clinicalStatus = userInfo.clinical_status;\n    patient.coronaPositive = userInfo.corona_status.corona_positive;\n    patient.treatment = this.NumToBool(userInfo.treatment);\n    patient.otherConsiderations = this.NumToBool(userInfo.other_considerations);\n    return patient;\n  }\n\n  BoolToNum(object) {\n    const returnObject = {};\n    for (const [key, value] of Object.entries(object)) {\n      returnObject[key] = typeof value === 'boolean' ? Number(value) : value;\n    }\n    return returnObject\n  }\n\n  NumToBool(object) {\n    const returnObject = {}\n    for (const [key, value] of Object.entries(object)) {\n      returnObject[key] = typeof value === 'number' ? Boolean(value) : value;\n    }\n    return returnObject\n  }\n\n}\n\nexport {Patient};","import React, {Component} from 'react';\nimport PatientInfo from \"./PatientInfo\";\nimport {Grid, withStyles} from '@material-ui/core';\nimport Summary from './Summary';\nimport RiskCategory from './RiskCategory';\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport AssignmentOutlinedIcon from '@material-ui/icons/AssignmentOutlined';\nimport FavoriteBorderOutlinedIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport Vitals from './Vitals';\nimport _pick from 'lodash/pick';\nimport {Api} from '../../../api/Api';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport {Patient} from './Patient';\nimport {LungsIcon, PulseIcon} from '../../../icons/icons';\nimport isIsraeliIdValid from 'israeli-id-validator';\nimport Typography from '@material-ui/core/Typography';\n\nconst styles = theme => ({\n  leftPanel: {\n    boxShadow: `2px 0px 0px rgba(0, 0, 0, 0.12);`\n  },\n  divider: {\n    height: 1\n  }\n});\n\nconst categoryPadding = 2;\nconst initialState = {\n  patient: new Patient(),\n  medicalSelections: {},\n  otherConsiderationsSelection: {},\n  riskScores: {},\n  recommendation: {}\n};\n\nclass Dashboard extends Component {\n  static STATIC_RISK_CONFIG = {\n    text: \"Patient\",\n    key: \"Patient\",\n    color: \"#8716E0\",\n    icon: AccountCircleOutlinedIcon\n  };\n\n  static MEDICAL_PRECONDITIONS_CONFIG = [\n    {\n      text: \"Pulmonary\",\n      color: \"#00B0BB\",\n      icon: LungsIcon,\n      items: [\n        {\n          key: 'copd',\n          text: 'COPD',\n        },\n        {\n          key: 'smoker',\n          text: 'Smoker',\n        }\n      ]\n    },\n    {\n      text: \"Cardiovalcular\",\n      color: \"#E01683\",\n      icon: FavoriteBorderOutlinedIcon,\n      items: [\n        {\n          key: 'htn',\n          text: 'Hypertension',\n        },\n        {\n          key: 'hd',\n          text: 'Ischemic Heart Disease',\n        },\n        {\n          key: 'chf',\n          text: 'Heart Failure'\n        }\n      ]\n    },\n    {\n      text: \"Other Conditions\",\n      color: \"#F08627\",\n      icon: AssignmentOutlinedIcon,\n      items: [\n        {\n          key: 'dm',\n          text: 'Diabetes Mellitus',\n        },\n        {\n          key: 'aids',\n          text: 'HIV / AIDS',\n        },\n        {\n          key: 'dementia',\n          text: 'Dementia'\n        },\n        {\n          key: 'cld',\n          text: 'Cirrhosis / Chronic Liver Disease'\n        },\n        {\n          key: 'ckd',\n          text: 'Chronic Kidney Disease'\n        },\n        {\n          key: 'cancer',\n          text: 'Malignancy'\n        }\n      ]\n    }\n  ];\n\n  static HOME_ENV_CONFIG = {\n    text: \"Home Environment\",\n    color: \"#06B30D\",\n    icon: HomeOutlinedIcon,\n    items: [\n      {\n        key: 'mobility_problem',\n        text: 'Immobile',\n      },\n      {\n        key: 'potential_for_home_quarentine',\n        text: 'Home quarantine is possible',\n      },\n      {\n        key: 'todo missing',\n        text: 'A member of the same household is in a risk group'\n      }\n    ]\n  };\n\n  static VITALS_CONFIG = {\n    text: \"Vitals\",\n    color: \"#8716E0\",\n    icon: PulseIcon,\n    items: [\n      {text: 'Temperature', key: 'temperature', unit: 'Celsius'},\n      {text: 'Pulse', key: 'pulse', unit: 'Per minute'},\n      {text: 'Respiratory Rate', key: 'respiratory_rate', unit: 'Per minute'},\n      {text: <Typography>O<sub>2</sub> Saturation</Typography>, key: 'oxygen_saturation', unit: 'ABG'}\n    ]\n  };\n\n  static SCORE_CATEGORIES = [Dashboard.STATIC_RISK_CONFIG].concat(Dashboard.MEDICAL_PRECONDITIONS_CONFIG);\n\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n    this.patient = new Patient();\n    this.Api = new Api();\n    this.onAgeChange = this.onAgeChange.bind(this);\n    this.onGenderChange = this.onGenderChange.bind(this);\n    this.onIDChange = this.onIDChange.bind(this);\n    this.onMedicalItemChange = this.onMedicalItemChange.bind(this);\n    this.onHomeEnvItemChange = this.onHomeEnvItemChange.bind(this);\n    this.onClinicalStatusChange = this.onClinicalStatusChange.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n\n  componentDidMount() {\n    this.reset();\n  }\n\n  reset() {\n    this.patient = new Patient();\n    initialState.patient = this.patient;\n    this.setState(initialState);\n    this.setSelections();\n  }\n\n  onHomeEnvItemChange(category, categoryItem) {\n    let item = this.state.otherConsiderationsSelection.items.find(item => item.key === categoryItem);\n    item.selected = !item.selected;\n    this.patient.otherConsiderations[categoryItem] = item.selected;\n    this.setState({patient: this.patient, otherConsiderationsSelection: this.state.otherConsiderationsSelection});\n    this.Api.updateRecommendation(this.patient);\n  }\n\n  onMedicalItemChange(category, categoryItem) {\n    let item = this.state.medicalSelections[category].items.find(item => item.key === categoryItem);\n    item.selected = !item.selected;\n    this.patient.medicalPreconditions[categoryItem] = item.selected;\n    this.setState({patient: this.patient, selections: this.state.medicalSelections});\n    this.updateScores();\n  }\n\n  async updateScores() {\n    let riskScores = {...this.state.riskScores};\n    let recommendation = await this.Api.updateRecommendation(this.patient);\n\n    for (let category in this.state.medicalSelections) {\n      this.state.medicalSelections[category].items.forEach(item => {\n        item.contribution = recommendation.contributing_factors[item.key] ? recommendation.contributing_factors[item.key] : 0;\n      });\n      let categoryKeys = Dashboard.MEDICAL_PRECONDITIONS_CONFIG.find(a => a.text === category).items.map(a => a.key);\n      let categoryFactors = _pick(recommendation.contributing_factors, categoryKeys);\n      riskScores[category] = Object.values(categoryFactors).reduce((a, b) => a + b, 0);\n    }\n\n    riskScores.Patient = recommendation.contributing_factors.age;\n    this.setState({riskScores, recommendation});\n  }\n\n  onAgeChange(age) {\n    this.patient.information.age = age;\n    this.setState({patient: this.patient});\n    const MIN_AGE = 2;\n    const MAX_AGE = 120;\n    if (MIN_AGE <= age && age < MAX_AGE) {\n      this.updateScores();\n    }\n  }\n\n  onGenderChange(gender) {\n    this.patient.information.gender = gender;\n    this.setState({patient: this.patient});\n    this.updateScores();\n  }\n\n  async onIDChange(event) {\n    this.patient.id = event.target.value;\n    this.setState({patient: this.patient});\n    if (isIsraeliIdValid(this.patient.id)) {\n      let userInfo = await this.Api.getUserInfo(this.patient.id);\n      if (userInfo !== 'patient not found') {\n        this.patient = this.patient.toClientModel(this.patient.id, userInfo)\n        this.setSelections();\n      }\n      this.setState({patient: this.patient});\n      this.updateScores();\n    }\n  }\n\n  onClinicalStatusChange(key, value) {\n    this.patient.clinicalStatus[key] = value;\n    this.setState({patient: this.patient});\n    this.Api.updateRecommendation(this.patient);\n  }\n\n  setSelections() {\n    let medicalSelections = {...this.state.medicalSelections};\n    let otherConsiderationsSelection = {...this.state.otherConsiderationsSelection};\n    // eslint-disable-next-line no-sequences\n    Object.assign(this.state.riskScores, Dashboard.SCORE_CATEGORIES.map(o => o.text).reduce((a,b) => (a[b] = 0, a),{}));\n    Dashboard.MEDICAL_PRECONDITIONS_CONFIG.forEach(category => {\n      medicalSelections[category.text] = category;\n      medicalSelections[category.text].items = medicalSelections[category.text].items.map(item => {\n        return {...item, selected: this.patient.medicalPreconditions[item.key], contribution: 0}\n      });\n    });\n\n    otherConsiderationsSelection = Dashboard.HOME_ENV_CONFIG;\n    otherConsiderationsSelection.items = otherConsiderationsSelection.items.map(item => {\n      return {...item, selected: this.patient.otherConsiderations[item.key]}\n    });\n    this.setState({medicalSelections, otherConsiderationsSelection});\n  }\n\n  render() {\n    const { classes } = this.props;\n    return <Grid container>\n      <Grid item md={8} className={classes.leftPanel}>\n        <Box py={categoryPadding}>\n          <PatientInfo color={Dashboard.STATIC_RISK_CONFIG.color}\n                       icon={Dashboard.STATIC_RISK_CONFIG.icon}\n                       patient={this.state.patient}\n                       recommendation={this.state.recommendation}\n                       onPatientAgeChange={this.onAgeChange}\n                       onPatientGenderChange={this.onGenderChange}\n                       onIDChange={this.onIDChange}/>\n        </Box>\n        <Divider light classes={{root: classes.divider}}/>\n        {Object.keys(this.state.medicalSelections).map(categoryKey =>\n          <div key={categoryKey}>\n            <Box py={categoryPadding}>\n              <RiskCategory onSelectionChange={this.onMedicalItemChange}\n                            items={this.state.medicalSelections[categoryKey].items}\n                            icon={this.state.medicalSelections[categoryKey].icon}\n                            color={this.state.medicalSelections[categoryKey].color}\n                            categoryName={categoryKey}/>\n            </Box>\n            <Divider light classes={{root: classes.divider}}/>\n          </div>\n        )}\n        {this.state.otherConsiderationsSelection.items &&\n          <Box py={categoryPadding}>\n            <RiskCategory onSelectionChange={this.onHomeEnvItemChange}\n                          items={this.state.otherConsiderationsSelection.items}\n                          icon={Dashboard.HOME_ENV_CONFIG.icon}\n                          color={Dashboard.HOME_ENV_CONFIG.color}\n                          categoryName={Dashboard.HOME_ENV_CONFIG.text}/>\n          </Box>\n        }\n        <Divider light classes={{root: classes.divider}}/>\n        <Box py={categoryPadding}>\n          <Vitals color={Dashboard.VITALS_CONFIG.color}\n                  icon={Dashboard.VITALS_CONFIG.icon}\n                  items={Dashboard.VITALS_CONFIG.items}\n                  patient={this.state.patient}\n                  onClinicalStatusChange={this.onClinicalStatusChange}/>\n        </Box>\n      </Grid>\n      <Grid item md={4}>\n        <Summary patient={this.state.patient} riskScores={this.state.riskScores} recommendation={this.state.recommendation} onClearAll={this.reset}/>\n      </Grid>\n    </Grid>\n  }\n}\n\nexport default withStyles(styles, { withTheme: true })(Dashboard);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route } from \"react-router-dom\";\n\nconst renderMergedProps = (component, ...rest) => {\n  const finalProps = Object.assign({}, ...rest);\n  return React.createElement(component, finalProps);\n};\n\n/**\n * Wrapper around the Router component, which makes it pass the properties\n * to it's child.\n * Taken from https://github.com/ReactTraining/react-router/issues/4105\n */\nconst PropsRoute = ({ component, ...rest }) => (\n  <Route\n    {...rest}\n    render={routeProps => renderMergedProps(component, routeProps, rest)}\n  />\n);\n\nPropsRoute.propTypes = {\n  component: PropTypes.oneOfType([PropTypes.elementType, PropTypes.node])\n};\n\nexport default PropsRoute;\n","import React, { memo } from \"react\";\nimport { Switch } from \"react-router-dom\";\nimport { withStyles } from \"@material-ui/core\";\nimport Dashboard from \"./dashboard/Dashboard\";\nimport PropsRoute from \"../../shared/components/PropsRoute\";\n\nconst styles = theme => ({\n  wrapper: {\n    width: \"auto\",\n    [theme.breakpoints.up(\"md\")]: {\n      width: \"100%\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  }\n});\n\nfunction Routing(props) {\n  const {\n    classes\n  } = props;\n  return (\n    <div className={classes.wrapper}>\n      <Switch>\n        <PropsRoute\n          path=\"\"\n          component={Dashboard}\n        />\n      </Switch>\n    </div>\n  );\n}\n\nRouting.propTypes = {\n\n};\n\nexport default withStyles(styles, { withTheme: true })(memo(Routing));\n","import { Auth } from \"aws-amplify\";\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport theme from '../../../theme';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  appBar: {\n    backgroundColor: theme.palette.common.white,\n  },\n  leftSide: {\n    flexGrow: 1\n  },\n  userName: {\n    textAlign: 'end'\n  }\n}));\n\nexport default function MenuAppBar() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [username, setUserName] = React.useState(\"Dr. Liat Ezra\");\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSignOut = () => {\n    Auth.signOut()\n    .then(data => console.log(data))\n    .catch(err => console.log(err));\n  };\n\n  Auth.currentAuthenticatedUser()\n    .then(user => {\n      setUserName(user.username)\n    })\n    .catch(err => console.error(err));\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appBar} variant={'outlined'}>\n        <Toolbar>\n            <ListItem alignItems=\"center\" className={classes.leftSide}>\n              <Box color=\"text.primary\" fontWeight={900} fontSize={24} mr={2}>HOSP</Box>\n              <Divider orientation=\"vertical\" flexItem></Divider>\n              <Box color={theme.palette.secondary.main} fontSize={18} ml={2}>Decision Support Tool</Box>\n            </ListItem>\n          <ListItem>\n            <ListItemText className={classes.userName} primary={<Typography color=\"textPrimary\">{username}</Typography>}/>\n            <IconButton\n              onClick={handleMenu}\n              color=\"primary\">\n              <ArrowDropDownIcon />\n            </IconButton>\n            <Menu\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              keepMounted\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={open}\n              onClose={handleClose}>\n              <MenuItem onClick={handleClose}>About</MenuItem>\n              <MenuItem onClick={handleSignOut}>Logout</MenuItem>\n            </Menu>\n          </ListItem>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, { PureComponent, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport classNames from \"classnames\";\nimport { withStyles } from \"@material-ui/core\";\nimport Routing from \"./Routing\";\nimport NavBar from \"./navigation/NavBar\";\n\nconst styles = theme => ({\n  main: {\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    [theme.breakpoints.down(\"xs\")]: {\n      marginLeft: 0\n    }\n  }\n});\n\n\nclass Main extends PureComponent {\n  state = {\n    CardChart: null,\n    EmojiTextArea: null,\n    ImageCropper: null,\n    Dropzone: null,\n    DateTimePicker: null,\n    transactions: [],\n    statistics: { views: [], profit: [] },\n    posts: [],\n    targets: [],\n    messages: [],\n    isAccountActivated: false,\n    addBalanceDialogOpen: false\n  };\n\n  componentDidMount() {\n\n  }\n\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <Fragment>\n        <NavBar/>\n        <main className={classNames(classes.main)}>\n          <Routing/>\n        </main>\n      </Fragment>\n    );\n  }\n}\n\nMain.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles, { withTheme: true })(Main);\n"],"sourceRoot":""}